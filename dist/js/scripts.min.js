function colorGenerator(){var e=["red","blue","green","yellow","purple","grey","black","orange","brown"],t=e[Math.floor(Math.random()*e.length)];return t}function createNote(){var e=$(".new-note-input").val(),t=$(".new-category-input").val();$(".kurt-loader").html('<img src="img/dog.gif">'),$.ajax({url:"/notes",type:"POST",dataType:"json",data:{body:e,category:t},success:function(e){$(".new-note-input").val(""),$(".new-category-input").val(""),console.log(e);var t=new Note(e),n=new NoteItem({model:t});n.render(),$(".active-notes").append(n),$(".kurt-loader").fadeOut("fast",function(){$(".kurt-loader").empty()})},error:function(e){$(".kurt-loader").empty(),$(".kurt-loader").append("<p>We got ",error)}})}var Note=Backbone.Model.extend({}),User=Backbone.Model.extend({}),ActiveList=Backbone.View.extend({el:".active-list-container",initialize:function(){this.allLists()},allLists:function(){$.ajax({url:"/notes",type:"GET",dataType:"json",success:function(e){for(var t=e.user.notes,n=0;n<t.length;n++){var o=new Note(t[n]),r=new NoteItem({model:o});r.render(),$(".active-notes").append(r)}},error:function(e){$(".kurt-loader").append("<p>We got ",error)}})}}),NoteItem=Backbone.View.extend({el:".list-item",itemTemplate:_.template($("#list-active-item").html()),initalize:function(){this.render()},events:{"click .fa-check":"done"},render:function(){return $(".active-notes").append(this.itemTemplate(this.model.toJSON())),this},done:function(e){var t=$(e.currentTarget);console.log("clicking ",this.model),console.log("target ",t),this.model.set({done:!0})}});$(".landing-header").on("click",function(){$(".landing-header a").css("color",colorGenerator())}),$(function(){$(document).on("click",".new-note-btn",function(e){e.preventDefault(),createNote()})});var activeList=new ActiveList;